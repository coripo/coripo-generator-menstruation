{"version":3,"sources":["../src/menstruation.generator.js"],"names":["Generator","dependencies","id","name","inputs","label","type","comment","helper","getAdapter","primaryAdapterId","generate","config","event","Event","generatorId","title","color","since","OneDate","start","till","offsetDay","periodLength","overlap","internal","external","repeats","times","cycle","step","cycleLength","sequels","scale","offset","exports"],"mappings":";;AAAA,IAAMA,YAAY,SAASA,SAAT,CAAmBC,YAAnB,EAAiC;AACjD,MAAMC,KAAK,sCAAX;AACA,MAAMC,OAAO,cAAb;AACA,MAAMC,SAAS,CACb,EAAEF,IAAI,OAAN,EAAeG,OAAO,kCAAtB,EAA0DC,MAAM,MAAhE,EAAwEC,SAAS,EAAjF,EADa,EAEb,EAAEL,IAAI,cAAN,EAAsBG,OAAO,4BAA7B,EAA2DC,MAAM,QAAjE,EAA2EC,SAAS,EAApF,EAFa,EAGb,EAAEL,IAAI,aAAN,EAAqBG,OAAO,mCAA5B,EAAiEC,MAAM,QAAvE,EAAiFC,SAAS,EAA1F,EAHa,CAAf;AAKA,MAAMC,SAAS;AACbC,gBAAYR,aAAaQ,UADZ;AAEbC,sBAAkBT,aAAaS;AAFlB,GAAf;;AAKA,MAAMC,WAAW,SAAXA,QAAW,CAACC,MAAD,EAAY;AAC3B,QAAMC,QAAQ,IAAIZ,aAAaa,KAAjB,CAAuB;AACnCZ,UAAIU,OAAOV,EADwB;AAEnCa,mBAAab,EAFsB;AAGnCc,aAAO,aAH4B;AAInCC,aAAO,SAJ4B;AAKnCC,aAAO,IAAIjB,aAAakB,OAAjB,CAAyBP,OAAOQ,KAAhC,EAAuCZ,MAAvC,CAL4B;AAMnCa,YAAM,IAAIpB,aAAakB,OAAjB,CAAyBP,OAAOQ,KAAhC,EAAuCZ,MAAvC,EAA+Cc,SAA/C,CAAyDV,OAAOW,YAAP,GAAsB,CAA/E,CAN6B;AAOnCC,eAAS,EAAEC,UAAU,MAAZ,EAAoBC,UAAU,cAA9B,EAP0B;AAQnCC,eAAS,CAAC,EAAEC,OAAO,CAAC,CAAV,EAAaC,OAAO,KAApB,EAA2BC,MAAMlB,OAAOmB,WAAxC,EAAD,CAR0B;AASnCC,eAAS,CACP;AACEhB,eAAO,gBADT;AAEEC,eAAO,SAFT;AAGEC,eAAO,EAAEe,OAAO,KAAT,EAAgBC,QAAQ,EAAxB,EAHT;AAIEb,cAAM,EAAEY,OAAO,KAAT,EAAgBC,QAAQ,EAAxB;AAJR,OADO,EAOP;AACElB,eAAO,YADT;AAEEC,eAAO,MAFT;AAGEC,eAAO,EAAEe,OAAO,KAAT,EAAgBC,QAAQ,CAAC,CAAzB,EAHT;AAIEb,cAAM,EAAEY,OAAO,KAAT,EAAgBC,QAAQ,CAAC,CAAzB;AAJR,OAPO,EAaP;AACElB,eAAO,aADT;AAEEC,eAAO,SAFT;AAGEC,eAAO,EAAEe,OAAO,KAAT,EAAgBC,QAAQtB,OAAOW,YAA/B,EAHT;AAIEF,cAAM,EAAEY,OAAO,KAAT,EAAgBC,QAAQtB,OAAOW,YAAP,GAAsB,CAA9C;AAJR,OAbO;AAT0B,KAAvB,CAAd;AA8BA,WAAOV,KAAP;AACD,GAhCD;;AAkCA,SAAO,EAAEX,MAAF,EAAMC,UAAN,EAAYC,cAAZ,EAAoBO,kBAApB,EAAP;AACD,CAhDD;;AAkDAwB,QAAQnC,SAAR,GAAoBA,SAApB","file":"menstruation.generator.js","sourcesContent":["const Generator = function Generator(dependencies) {\n  const id = 'coripo.coripo.generator.menstruation';\n  const name = 'Menstruation';\n  const inputs = [\n    { id: 'start', label: 'When did your last period start?', type: 'date', comment: '' },\n    { id: 'periodLength', label: 'How many days did it last?', type: 'number', comment: '' },\n    { id: 'cycleLength', label: 'How long is your menstrual cycle?', type: 'number', comment: '' },\n  ];\n  const helper = {\n    getAdapter: dependencies.getAdapter,\n    primaryAdapterId: dependencies.primaryAdapterId,\n  };\n\n  const generate = (config) => {\n    const event = new dependencies.Event({\n      id: config.id,\n      generatorId: id,\n      title: 'Period Days',\n      color: '#ee10f6',\n      since: new dependencies.OneDate(config.start, helper),\n      till: new dependencies.OneDate(config.start, helper).offsetDay(config.periodLength - 1),\n      overlap: { internal: 'trim', external: 'trim-forever' },\n      repeats: [{ times: -1, cycle: 'day', step: config.cycleLength }],\n      sequels: [\n        {\n          title: 'Peak Ovulation',\n          color: '#00aeef',\n          since: { scale: 'day', offset: 10 },\n          till: { scale: 'day', offset: 14 },\n        },\n        {\n          title: 'Pre-Period',\n          color: '#f36',\n          since: { scale: 'day', offset: -2 },\n          till: { scale: 'day', offset: -1 },\n        },\n        {\n          title: 'Post-Period',\n          color: '#7e70ff',\n          since: { scale: 'day', offset: config.periodLength },\n          till: { scale: 'day', offset: config.periodLength + 1 },\n        },\n      ],\n    });\n    return event;\n  };\n\n  return { id, name, inputs, generate };\n};\n\nexports.Generator = Generator;\n"]}